# Game Design Document v0.2
## "Idle Champions: Synthetic"

**Статус:** Утверждён  
**Дата:** 2025-02-01  
**Назначение:** Учебная песочница для курса "Приложения и методы анализа данных в компьютерных играх"

---

## 1. Концепция

**Жанр:** Idle RPG + Gacha

**Платформа:** Mobile F2P (симуляция)

**Сеттинг:** Фэнтези. Игрок собирает отряд героев, отправляет их в походы, прокачивает, выбивает лут. Игра играет сама, пока игрок офлайн (idle-механика).

**Основной геймплей-луп:**
1. Получить героев (gacha)
2. Собрать отряд
3. Отправить в поход (idle combat)
4. Получить награды (валюта, опыт, предметы)
5. Прокачать героев
6. Пройти дальше / открыть новый контент
7. Повторить

---

## 2. Ключевые сущности

### 2.1. Герои (Hero)

| Атрибут | Описание |
|---------|----------|
| hero_id | Уникальный ID шаблона героя |
| name | Название героя |
| rarity | Common, Rare, Epic, Legendary |
| class | Warrior, Mage, Archer, Healer, Tank |
| base_power | Базовая сила |

**Прогрессия экземпляра героя у игрока:**
- **Уровень (level):** 1–100
- **Звёзды (stars):** 1–5 ★ (повышается дубликатами)
- **Power:** рассчитывается от base_power × level × stars

### 2.2. Валюты

| Валюта | Тип | Источник | Назначение |
|--------|-----|----------|------------|
| gold | Soft | Походы, награды, idle | Прокачка героев |
| gems | Hard | IAP, редкие награды, ads | Gacha, ускорения |
| summon_tickets | Special | События, награды | Gacha (1 тикет = 1 призыв) |
| energy | Regenerating | Время (1/5 мин, max 120), IAP | Запуск походов |

### 2.3. Походы (Campaign)

- **Главы (chapter):** 1–20
- **Уровни (stage):** 1–10 внутри каждой главы (итого 200 уровней)
- **Стоимость:** 6 Energy за уровень
- **Награды:** Gold + Player XP + шанс лута (экипировка)
- **Idle Rewards:** накапливаются офлайн, максимум 12 часов

### 2.4. Gacha (Summoning)

**Баннеры:**
| Баннер | Доступность | Особенности |
|--------|-------------|-------------|
| standard | Постоянный | Базовый пул героев |
| limited | Ротация (7–14 дней) | Featured герой с повышенным шансом |

**Стоимость призыва:**
- 1 призыв = 300 Gems или 1 Summon Ticket
- 10 призывов = 2700 Gems (скидка 10%)

**Rates (вероятности):**
| Редкость | Шанс |
|----------|------|
| Common | 60% |
| Rare | 30% |
| Epic | 8% |
| Legendary | 2% |

**Pity System:**
- Счётчик призывов без Legendary
- Гарантия Legendary на 90-м призыве
- Счётчик сбрасывается при получении Legendary

### 2.5. Магазин (Shop)

**IAP пакеты:**
| Пакет | Цена (USD) | Содержимое | Лимит |
|-------|------------|------------|-------|
| starter_pack | 0.99 | 500 Gems + 10 Summon Tickets | 1 раз |
| gems_tier1 | 4.99 | 500 Gems | ∞ |
| gems_tier2 | 9.99 | 1100 Gems | ∞ |
| gems_tier3 | 19.99 | 2400 Gems | ∞ |
| gems_tier4 | 49.99 | 6500 Gems | ∞ |
| gems_tier5 | 99.99 | 14000 Gems | ∞ |
| monthly_pass | 4.99 | 300 Gems сразу + 100 Gems/день (30 дней) | 1 активный |

**Rewarded Ads:**
- Награда: 50 Gems за просмотр
- Лимит: 5 просмотров в день
- Кулдаун: 30 минут между просмотрами

### 2.6. VIP-система

**VIP Level:** 0–10

**Рост:** 1 VIP XP = $0.01 потраченных (IAP)

| VIP Level | Требование (USD) | Бонусы |
|-----------|------------------|--------|
| 0 | 0 | — |
| 1 | 5 | +10 Max Energy |
| 2 | 15 | +1 бесплатный призыв/день |
| 3 | 30 | +20% Gold из походов |
| 4 | 50 | +1 слот Rewarded Ads |
| 5 | 100 | +20 Max Energy |
| 6 | 200 | +10% шанс Epic в Gacha |
| 7 | 500 | +50% Idle Rewards |
| 8 | 1000 | +1 бесплатный призыв/день |
| 9 | 2000 | +100% Gold из походов |
| 10 | 5000 | Эксклюзивный герой |

---

## 3. Прогрессия игрока

### 3.1. Player Level

- **Диапазон:** 1–100
- **Источник XP:** походы, квесты, достижения
- **Unlock функций:**

| Функция | Unlock Level |
|---------|--------------|
| Campaign | 1 |
| Shop | 1 |
| Idle Rewards | 1 |
| Gacha | 3 |
| Daily Quests | 5 |
| Events | 5 |
| Arena | 10 |
| Guild | 15 |

---

## 4. Игровые режимы

### 4.1. Campaign (PvE)

- Основной контент
- 20 глав × 10 уровней = 200 уровней
- Линейная прогрессия (нужно пройти N, чтобы открыть N+1)
- 3 звезды за уровень (по условиям: пройти, без потерь, за время)

### 4.2. Idle Rewards

- Пассивный доход Gold + XP
- Скорость зависит от максимального пройденного уровня
- Накопление до 12 часов
- Можно забрать в любой момент

### 4.3. Daily Quests

- 5 заданий каждый день
- Примеры: "Пройти 5 уровней", "Сделать 3 призыва", "Прокачать героя"
- Награды: Gold, Gems, Summon Tickets
- Сброс в 00:00 UTC

### 4.4. Arena (PvP)

- Асинхронный PvP (бой с сохранённым отрядом другого игрока)
- Рейтинг (ELO-подобный)
- 5 попыток в день (бесплатно)
- Дополнительные попытки за Gems
- Еженедельные награды по рейтингу

### 4.5. Guild

- Вступление в гильдию или создание своей
- Макс. 30 участников
- Guild Boss: ежедневный рейд-босс, общий урон
- Guild Shop: валюта гильдии → эксклюзивные награды
- Чат (не симулируем)

### 4.6. Events

- Временные активности (7–14 дней)
- Типы: Login Event, Summon Event, Spending Event
- Специальные награды

---

## 5. Сессионная модель

**Типичная сессия активного игрока:**
1. Вход → забрать Idle Rewards
2. Выполнить Daily Quests
3. Потратить Energy на походы
4. Прокачать героев
5. Arena бои (если открыта)
6. Сделать призывы (если есть ресурсы)
7. Guild Boss (если в гильдии)
8. Выйти

**Ожидаемые паттерны:**
| Метрика | Значение |
|---------|----------|
| Сессий/день (активный) | 2–4 |
| Время сессии | 5–15 мин |
| DAU/MAU (здоровый) | 0.15–0.25 |
| D1 Retention | 35–45% |
| D7 Retention | 15–20% |
| D30 Retention | 5–10% |

---

## 6. Монетизация

**Основные точки монетизации:**
1. **Gacha** — Gems за призывы (основной сток Hard Currency)
2. **Energy** — ускорение прогресса
3. **Starter Pack** — высокая конверсия, импульсная покупка
4. **Monthly Pass** — retention через commitment
5. **Arena Attempts** — competitive pressure

**Ожидаемое распределение игроков:**
| Сегмент | % игроков | % дохода |
|---------|-----------|----------|
| Non-payers | 95–98% | 0% |
| Minnows (<$10) | 1–3% | 10–15% |
| Dolphins ($10–100) | 0.5–1% | 25–35% |
| Whales (>$100) | 0.1–0.3% | 50–60% |

---

## 7. Параметры симуляции

| Параметр | Значение |
|----------|----------|
| Количество игроков | 50,000–100,000 |
| Период симуляции | 90 дней |
| Ожидаемое кол-во событий | 10–50 млн |
| Seed | Детерминированный, воспроизводимый |

---

## 8. Что НЕ входит в симуляцию

- Реальный геймплей / боевая система
- Баланс урона, формулы боя
- UI/UX
- Серверная логика
- Real-time multiplayer
- Чат

Мы симулируем только **поведение игроков** и **генерируем события**, как если бы игра существовала.

---

## 9. Следующие шаги

1. **Event Taxonomy** — полный список событий и их схемы
2. **Agent Behavior Model** — модели поведения игроков
3. **ТЗ на генератор** — техническая спецификация
4. **Код генератора** — Python-реализация
5. **Инфраструктура** — ClickHouse + Superset

---

## Changelog

| Версия | Дата | Изменения |
|--------|------|-----------|
| 0.1 | 2025-02-01 | Первый драфт |
| 0.2 | 2025-02-01 | Добавлены Arena, Guild, VIP. Убран Battle Pass. Оставлены Ads. |
